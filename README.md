**Rates Bot** - это телеграм бот, который помогаем ежедневно получать курсы валют
отталкиваясь от какой-либо базовой валюты. Бот автоматически извлекает курсы валют и отправляет их вам
в удобном Телеграм-формате. Ему нужно передать название базовой
валюты, вылюты для сравнения и время в которое Вам будет удобно получать от него
(Бота) сообщения. 

---

# Сценарий работы RatesBot


- После нажатия на кнопку Start, Бот предлагает пользователю выбрать
базовую валюту (к примеру: это может быть валюта в которой он получает ЗП). В первой версии приложения доступна одна
базовая валюта USD.
- Бот сохраняет её.
- Следующим шагом, Бот предлагает выбрать сравниваемые валюты. (их может быть в количестве до 3)
- Бот сохраняет сравниваемые валюты.
- Бот спрашивает о времени уведомления по заданным валютам.
- Сохраняет время.
- Затем, с "сегодняшнего" дня Вы начинаете получать сообщения от бота по выбраным вылютам
в формате.
  
| Selected currency | Comparable currency |
| -----------------:|:-------------------:|
| "1" | "23,04" | 
  | "1"| "0,013" |

---

# Описание технологий и техническое исполнение

## База данных

В качестве Базы Данных будет использоваться - PostgreSQL

#### Сущность пользователя имеет такие поля:

id, baseCurrency, comparedCurrency(List), notificationTime.

#### Сущность валюты:

id, alias

#### UserCurrencyReference:

UserId, CurrencyId

Шаблон URL-запроса к API OpenExchangeRates


https://openexchangerates.org/api/latest.json
?app_id=[[app:app_id]]


&base=EUR


&symbols=GBP,EUR,AED

---

# Как происходит сравнение времени

1. Сначала получаем текущее время в формате "ЧЧ:ММ"
2. После идём в БД, проверяем у всех пользователей поле "notificationTime"
3. Сравниваем текущее время с полем "notificationTime"
4. Возвращаем список telegramId пользователей у которых время совпадает с текущим
5. Отправляем пользователям из нового списка их курсы валют

